set relativenumber
set number
set clipboard+=unnamed  "for osx
set nocompatible

let mapleader=","
let maplocalleader=","

set cursorline
set cursorcolumn

"PLUGINS
    "PLUGINS INCLUTION
        call plug#begin()
        Plug 'vim-airline/vim-airline'
        Plug 'https://github.com/ervandew/supertab.git'
        Plug 'https://github.com/tpope/vim-commentary.git'
        Plug 'https://github.com/jpalardy/vim-slime.git'
        Plug 'preservim/nerdtree'
        Plug 'theniceboy/vim-calc'
        Plug 'mhinz/vim-startify'
        Plug 'https://github.com/tpope/vim-fugitive.git'
        Plug 'https://github.com/vim-scripts/ReplaceWithRegister.git'
        Plug 'https://github.com/ludovicchabant/vim-gutentags'

        Plug 'https://github.com/xolox/vim-misc', { 'for': 'vimwiki' }
        Plug 'vimwiki/vimwiki'
        Plug 'sheerun/vim-polyglot'

        Plug 'junegunn/fzf', { 'do': { -> fzf#install() } }
        Plug 'junegunn/fzf.vim'

        Plug 'https://github.com/guns/vim-sexp.git',  { 'for': 'clojure' }
        Plug 'liquidz/vim-iced',                      { 'for': 'clojure' }
        Plug 'prabirshrestha/asyncomplete.vim',       { 'for': 'clojure' }
        Plug 'liquidz/vim-iced-asyncomplete',         { 'for': 'clojure' }
        Plug 'https://github.com/tpope/vim-surround', { 'for': 'clojure' }

        Plug 'sainnhe/everforest'
        Plug 'arzg/vim-colors-xcode' 
        Plug 'cormacrelf/vim-colors-github'

        call plug#end()
    "NERDTREE
        let g:NERDTreeHijackNetrw = 1
        au VimEnter NERD_tree_1 enew | execute 'NERDTree '.argv()[0]
        let NERDTreeShowHidden=1

"EDITING
    nnoremap U <C-r>

    "PASTE BELOW
        "current line
        nnoremap cl mX"9yy"9p`Xj
        "empty line
        nnoremap <space>o o<Esc><Esc>
    "SAVING
        "alt + q
        function! ShutUpAndClose()
          execute ":wa"
          execute ":qa!"
        endfunction
        nnoremap œ :call ShutUpAndClose()<CR>

        "alt + s
        noremap ß :wa<CR>

"NAVIGATION
    " set current path
    nnoremap <leader>sd :sd %:p:h<CR>

    " to be able to search on files through path
    set path=$PWD/**  
    noremap <space>h ^
    noremap <space>l g_

    nnoremap <space><tab> :e#<cr>

    "TABS
        nmap gh gT
        nmap gl gt

    "SPACEMACS-LIKE NAVIGATION COMMANDS
        noremap <space>bd :bd<cr>

    "SEARCH
        set ignorecase
        set incsearch
        set hlsearch

    "SMART WAY TO MOVE BETWEEN WINDOWS
        "alt + j
        nmap ∆ <C-W>j
        "alt + k
        nmap ˚ <C-W>k
        "alt + h
        nmap ˙ <C-W>h
        "alt + l
        nmap ¬ <C-W>l 

        "alt + w
        nmap ∑ <C-W>

"SYNTAX
    "FOLDING
        function! MarkdownLevel()
            if getline(v:lnum) =~ '^# .*$'
                return ">1"
            endif
            if getline(v:lnum) =~ '^## .*$'
                return ">2"
            endif
            if getline(v:lnum) =~ '^### .*$'
                return ">3"
            endif
            if getline(v:lnum) =~ '^#### .*$'
                return ">4"
            endif
            if getline(v:lnum) =~ '^##### .*$'
                return ">5"
            endif
            if getline(v:lnum) =~ '^###### .*$'
                return ">6"
            endif
            return "=" 
        endfunction

        set fdm=syntax

        autocmd BufEnter *.md setlocal foldexpr=MarkdownLevel()  
        autocmd BufEnter *.md setlocal foldmethod=expr  
        autocmd BufEnter *.md colorscheme PaperColor
        autocmd Filetype vim set foldmethod=indent
        autocmd BufRead *.txt set foldmethod=indent

    "TABS
        nmap <tab> :noh<Enter>:echom ""<Enter>
        set smartindent
        set shiftwidth=4 smarttab expandtab
        set tags=./tags,tags;$HOME

"END
